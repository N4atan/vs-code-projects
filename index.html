<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form onsubmit="return false;">
        <input type="text" id="inputNome" placeholder="Digite o nome aqui...">
        <input type="checkbox" id="inputPreferencial"> É preferencial?
        <button id="btn-gerar">GERAR SENHA</button>
        <h1 id="h1-senhaGerada"></h1>
    </form>

    <script>
        let filas = { normal: [], preferencial: [] };

        function gerarSenha(nome, tipoAtendimento) {
            let tipo = tipoAtendimento === 1 ? "preferencial" : "normal";
            let prefixo = tipoAtendimento === 1 ? "AP" : "AN";

            let senhaNova = {
                Senha: `${filas[tipo].length + 1}${prefixo}`,
                Nome: nome
            };

            filas[tipo].push(senhaNova);
            console.log(`${nome} foi adicionado à fila de espera ${tipo}`);

            return senhaNova;
        }

        document.getElementById("btn-gerar").addEventListener("click", () => {
            let nome = document.getElementById("inputNome").value.trim();
            let checkBox = document.getElementById("inputPreferencial");

            if (!nome) {
                alert("Por favor, digite um nome.");
                return;
            }

            let tipoAtendimento = checkBox.checked ? 1 : 0;
            let senhaGerada = gerarSenha(nome, tipoAtendimento);

            document.getElementById("h1-senhaGerada").innerText = `Senha: ${senhaGerada.Senha}`;
        });
    </script>
</body>

</html>